name: ci-cargo-deny
on: [pull_request]
jobs:
  cargo-deny:
    runs-on: arc-runner-set
    steps:
    - uses: actions/checkout@v3
    - run: |
        sudo apt-get update && sudo apt-get install -y curl gcc
    - uses: dtolnay/rust-toolchain@stable
    - run: cargo install cargo-deny
    - run: cargo deny --all-features check licenses bans sources
    # - uses: EmbarkStudios/cargo-deny-action@v1
    #   with:
    #     log-level: warn
    #     command: check ${{ matrix.checks }}
    #     argument: --all-features
    #     credentials: https://${{ secrets.MACHINE_USER_NAME }}:${{ secrets.MACHINE_USER_PAT }}@github.com
